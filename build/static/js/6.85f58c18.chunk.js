(this.webpackJsonpquanlidatve=this.webpackJsonpquanlidatve||[]).push([[6],{586:function(e,t,a){},591:function(e,t,a){"use strict";a.r(t);var n=a(30),l=a(35),c=a(206),i=a(0),r=a.n(i),o=a(71),m=a(550),s=a(551),u=a(546),h=a(70),d=a(262),b=(a(586),a(125)),E=a(106),g=a(47);function p(e){var t=Object(i.useState)(!1),a=Object(l.a)(t,2),n=a[0],c=a[1],o=function(){c(!n),e.handleSeatItem(e.seat)};return r.a.createElement(i.Fragment,null,!0===e.seat.daDat?r.a.createElement("button",{className:"btn btn-secondary",disabled:e.seat.daDat},e.seat.tenGhe):r.a.createElement(i.Fragment,null,"Thuong"===e.seat.loaiGhe?r.a.createElement("button",{className:!1===n?"btn btn-dark":"btn btn-success",onClick:o},e.seat.tenGhe):r.a.createElement("button",{className:!1===n?"btn btn-warning":"btn btn-success",onClick:o},e.seat.tenGhe)))}var v=a(33),f=a.n(v),k=a(282);function N(e){var t=e.children,a=e.value,n=e.index,l=Object(c.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},l),a===n&&r.a.createElement(d.a,{p:3},r.a.createElement(h.a,{component:"div"},t)))}function T(e){return r.a.createElement(u.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}var C=Object(o.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));t.default=Object(g.b)((function(e){return{ticketRoom:e.Reducer.ticketRoom,loading:e.Reducer.loading}}),(function(e){return{getTicketRoom:function(t){e(E.f(t))},postBookingSeat:function(t,a){e(E.a(t,a))},setLoadingTrue:function(){e(E.s())}}}))((function(e){var t=Object(i.useState)(30),a=Object(l.a)(t,2),c=a[0],o=a[1],u=Object(i.useState)(3),h=Object(l.a)(u,2),d=h[0],E=h[1],g=C(),v=Object(i.useState)(0),R=Object(l.a)(v,2),G=R[0],S=(R[1],Object(i.useState)([])),j=Object(l.a)(S,2),y=j[0],O=j[1];Object(i.useEffect)((function(){e.getTicketRoom(e.match.params.maLichChieu);var t=setInterval((function(){o((function(e){return 0===e?(E((function(e){if(e>0)return e-1;o(0),E(0),clearInterval(t),f()("H\u1ebft Th\u1eddi Gian Gi\u1eef Gh\u1ebf","","warning").then((function(e){window.location.reload()}))})),60):e-1}))}),1e3);return function(){clearInterval(t),e.setLoadingTrue()}}),[]);var w=function(e){var t=Object(n.a)(y),a=t.findIndex((function(t){return t.maGhe===e.maGhe}));-1===a?(t.push(e),O(t)):(t.splice(a,1),O(t))};return console.log(e.loading),e.loading?r.a.createElement(k.a,null):r.a.createElement("div",{className:"book-seat"},r.a.createElement("div",{className:g.root},r.a.createElement(m.a,{position:"static"},r.a.createElement(s.a,{variant:"fullWidth",value:G,"aria-label":"nav tabs example"},r.a.createElement(T,{label:"\u0110\u1eb7t V\xe9 & Thanh To\xe1n"}),r.a.createElement(T,{label:"K\u1ebft Qu\u1ea3 \u0110\u1eb7t V\xe9"}))),r.a.createElement(N,{value:G,index:0},r.a.createElement("div",{className:"booking-seat"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9 hidden-seat d-flex justify-content-center"},r.a.createElement("div",{className:"width-870"},r.a.createElement("div",{className:"screen text-center"},"SCREEN"),r.a.createElement("div",{className:"style-char mt-3"},function(){if(void 0!==e.ticketRoom){var t=e.ticketRoom.danhSachGhe;if(void 0!==t)return t.map((function(e,t){return r.a.createElement(p,{key:t,seat:e,handleSeatItem:w})}))}}()),r.a.createElement("div",{className:"type-seat mt-4"},r.a.createElement("div",{className:"d-inline-block ml-2 mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-secondary"}),r.a.createElement("p",null,"\u0110\xe3 \u0110\u1eb7t")),r.a.createElement("div",{className:"d-inline-block  ml-2 mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-success"}),r.a.createElement("p",null,"\u0110ang Ch\u1ecdn")),r.a.createElement("div",{className:"d-inline-block  ml-2 mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-dark"}),r.a.createElement("p",null,"Ch\u01b0a Ch\u1ecdn")),r.a.createElement("div",{className:"d-inline-block  ml-2 mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-warning"}),r.a.createElement("p",null,"V\xedp"))))),r.a.createElement("div",{className:"col-sm-3 detail-info-book"},r.a.createElement("div",{className:"time-booking-seat text-center"},"Th\u1eddi gian gi\u1eef gh\u1ebf",r.a.createElement("p",{className:"timelimit-bookseat"},"0".concat(d).slice(-2),":","0".concat(c).slice(-2))),r.a.createElement("div",{className:"information-film"},void 0!==e.ticketRoom.thongTinPhim?r.a.createElement("div",null,r.a.createElement("p",null,"\u0110\u1ecba Ch\u1ec9 : ",e.ticketRoom.thongTinPhim.diaChi),r.a.createElement("p",null,"T\xean C\u1ee5m R\u1ea1p :"," ",e.ticketRoom.thongTinPhim.tenCumRap),r.a.createElement("p",null,"T\xean R\u1ea1p : ",e.ticketRoom.thongTinPhim.tenRap),r.a.createElement("p",null,"T\xean Phim : ",e.ticketRoom.thongTinPhim.tenPhim),r.a.createElement("p",null,"Ng\xe0y Chi\u1ebfu : ",e.ticketRoom.thongTinPhim.ngayChieu),r.a.createElement("p",null,"Gi\u1edd Chi\u1ebfu : ",e.ticketRoom.thongTinPhim.gioChieu)):r.a.createElement("div",null,r.a.createElement("p",null,"\u0110\u1ecba Ch\u1ec9 : "),r.a.createElement("p",null,"T\xean C\u1ee5m R\u1ea1p : "),r.a.createElement("p",null,"T\xean R\u1ea1p : "),r.a.createElement("p",null,"T\xean Phim : "),r.a.createElement("p",null,"Ng\xe0y Chi\u1ebfu : "),r.a.createElement("p",null,"Gi\u1edd Chi\u1ebfu : "))),r.a.createElement("div",{className:"all-seat"},"T\u1ed5ng S\u1ed1 Gh\u1ebf \u0110\xe3 Ch\u1ecdn(",y.length,")"),r.a.createElement("div",{className:"info-cost-seat"},y.length>0?r.a.createElement("div",null," S\u1ed1 Gh\u1ebf : ",function(){if(0!==y.length)return y.map((function(e,t){return r.a.createElement("span",{className:"number-seat",key:t},e.tenGhe,",")}))}()):" S\u1ed1 Gh\u1ebf :"),r.a.createElement("div",{className:"total-seat"},y.length>0?r.a.createElement("span",null," T\u1ed5ng Ti\u1ec1n = ",function(){if(0!==y.length)return y.reduce((function(e,t){return e+t.giaVe}),0)}()," \u0111"):" T\u1ed5ng Ti\u1ec1n = 0 \u0111"),localStorage.getItem("user")?r.a.createElement(b.a,{variant:"contained",className:"btn btn-primary book-ticket",onClick:function(){var t=y.map((function(e){return{maGhe:e.maGhe,giaVe:e.maGhe}})),a=JSON.parse(localStorage.getItem("user")).taiKhoan,n={maLichChieu:e.match.params.maLichChieu,danhSachVe:t,taiKhoanNguoiDung:a};console.log(n.danhSachVe.length),0===n.danhSachVe.length?f()("M\u1eddi Ch\u1ecdn Gh\u1ebf","","warning"):e.postBookingSeat(n,e.history)}},"\u0110\u1eb7t V\xe9"):r.a.createElement(b.a,{variant:"contained",className:"btn btn-primary book-ticket","data-toggle":"modal","data-target":"#exampleModal"},"\u0110\u1eb7t V\xe9"))))),r.a.createElement(N,{value:G,index:1},"Page Two 6546345")))}))}}]);
//# sourceMappingURL=6.85f58c18.chunk.js.map